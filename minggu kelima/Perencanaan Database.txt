Tabel (-daftar_barang)
kode_barang
nama_barang
stok

Tabel (-log_peminjaman)
kode_peminjaman
kode_barang
tanggal_peminjaman
tanggal_kembali
status


Penjelasan:
//Kasus 1 - Peminjaman masih ada sisa stok
misal di Tabel (-daftar_barang) stok kode_barang M1 ada 3
dipinjam di Tabel (-log_peminjaman) pada kode_peminjaman A1 dan A3
menampilkan sisanya: ambil stok kode_barang M1, kurangi jumlah barang yang dipinjam di Tabel (-log_peminjaman) kode_barang M1 dengan status PINJAM (pada kasus ini akan mengembalikan Tersedia: 1)
peminjaman di A1 sudah dikembalikan lalu diupdate statusnya menjadi KEMBALI
dengan ini setelah di update akan mengembalikan Tersedia: 2 (Select stok kode_barang M1 lalu dikurangi jumlah barang M1 pada Tabel (-log_peminjaman) berstatus PINJAM)